(function(t){function e(e){for(var r,s,o=e[0],c=e[1],h=e[2],l=0,f=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,h||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],r=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var r={},n={app:0},a=[];function s(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=r,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/simple-sidescroller-game/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"01db":function(t,e,i){t.exports=i.p+"img/spriteStandRight.5b870fd4.png"},"1a58":function(t,e,i){t.exports=i.p+"img/platform.4003b97b.png"},"30b3":function(t,e,i){t.exports=i.p+"img/background.a5f2bb9a.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("7a23"),n={ref:"canvas"};function a(t,e,i,a,s,o){return Object(r["d"])(),Object(r["b"])("div",null,[Object(r["c"])("canvas",n,null,512)])}var s=i("d4ec"),o=i("bee2"),c={right:{pressed:!1},left:{pressed:!1},up:{pressed:!1},shift:{pressed:!1},directionRight:!0},h=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,null,[{key:"start",value:function(){window.addEventListener("keydown",(function(t){var e=t.code,i=t.shiftKey;switch(c.shift.pressed=i,e){case"KeyA":c.left.pressed=!0,c.directionRight=!1;break;case"KeyS":break;case"KeyD":c.right.pressed=!0,c.directionRight=!0;break;case"KeyW":case"Space":c.up.pressed=!0;break}})),window.addEventListener("keyup",(function(t){var e=t.code,i=t.shiftKey;switch(c.shift.pressed=!i,e){case"KeyA":c.left.pressed=!1,c.directionRight=!1;break;case"KeyS":break;case"KeyD":c.right.pressed=!1,c.directionRight=!0;break;case"KeyW":case"Space":c.up.pressed=!1;break}}))}}]),t}(),u=(i("d3b7"),i("159b"),i("b40d")),l=i("f9c7"),f=(i("820e"),i("3ca3"),i("ddb0"),function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,null,[{key:"loaded",get:function(){return Promise.allSettled(Object(l["a"])(t,t,d))}},{key:"addImageLoader",value:function(e){var i=new Promise((function(t){e.onload=function(){return t()}}));Object(u["a"])(this,t,p).call(this,i)}}]),t}());function p(t){Object(l["a"])(f,f,d).push(t)}var d={writable:!0,value:[]};function y(t){var e=new Image;return e.src=t,f.addImageLoader(e),e}var g=i("1a58"),m=i.n(g),v=i("bf63"),b=i.n(v),x=i("30b3"),w=i.n(x),O=i("71ee"),j=i.n(O),k=i("262e"),P=i("2caf"),S=function(){function t(e){var i=e.game,r=e.x,n=e.y,a=e.image;Object(s["a"])(this,t),this.game=i,this.position={x:r,y:n},this.image=a,this.width=a.width,this.height=a.height}return Object(o["a"])(t,[{key:"x",get:function(){return this.position.x-.66*this.game.scrollOffset}},{key:"isOn",value:function(){return!1}},{key:"draw",value:function(){this.game.c.drawImage(this.image,this.x,this.position.y)}}]),t}(),F=function(t){Object(k["a"])(i,t);var e=Object(P["a"])(i);function i(t){var r=t.game,n=t.x,a=t.y,o=t.image;return Object(s["a"])(this,i),e.call(this,{game:r,x:n,y:a,image:o})}return Object(o["a"])(i,[{key:"x",get:function(){return this.position.x-this.game.scrollOffset}},{key:"isOn",value:function(t){return t.position.y+t.height<=this.position.y&&t.position.y+t.height+t.velocity.y>=this.position.y&&t.screenX>=this.x&&t.screenX<=this.x+this.width}}]),i}(S),K=i("01db"),R=i.n(K),L=i("5cc9"),W=i.n(L),_=i("6ee4"),I=i.n(_),A=i("d27c"),D=i.n(A),E=.5,M=function(){function t(e){var i=e.game;Object(s["a"])(this,t),this.game=i,this.position={x:100,y:100},this.velocity={x:0,y:0},this.width=66,this.height=150,this.speed=7,this.turbo=3,this.frame=0,this.right=!0;var r=this;this.sprites={stand:{right:y(R.a),left:y(W.a),cropWidth:177,width:66,frames:59,get image(){return r.right?this.right:this.left}},run:{right:y(I.a),left:y(D.a),cropWidth:341,width:127.875,frames:29,get image(){return r.right?this.right:this.left}}}}return Object(o["a"])(t,[{key:"x",get:function(){return this.position.x+this.game.scrollOffset}},{key:"screenX",get:function(){return this.x>400?400:this.x}},{key:"draw",value:function(){this.frame++,this.frame>this.sprite.frames&&(this.frame=0),this.calculateVelocity(),this.calculateDirection(),this.position.y+=this.velocity.y;var t=this.sprite;this.game.c.drawImage(t.image,t.cropWidth*this.frame,0,t.cropWidth,400,this.screenX,this.position.y,t.width,this.height)}},{key:"calculateVelocity",value:function(){this.doGravity(),c.right.pressed?this.velocity.x=this.speed:c.left.pressed?this.velocity.x=-this.speed:this.velocity.x=0,c.shift.pressed&&(this.velocity.x*=this.turbo)}},{key:"doGravity",value:function(){var t=this;c.up.pressed&&0===this.velocity.y&&(this.velocity.y-=15+.3*this.velocity.x*E),this.position.y+this.height+this.velocity.y<this.game.canvas.height&&(this.velocity.y+=E),this.game.platforms.forEach((function(e){e.isOn(t)&&(t.velocity.y=0)}))}},{key:"calculateDirection",value:function(){this.velocity.x>0&&(this.right=this.velocity.x>0),this.velocity.x<0&&(this.right=!1)}},{key:"sprite",get:function(){return 0!==this.velocity.x?this.sprites.run:this.sprites.stand}}]),t}(),X=function(){function t(e){var i=e.game;Object(s["a"])(this,t),this.game=i}return Object(o["a"])(t,[{key:"createPlatform",value:function(t){var e=t.x,i=t.y,r=t.image;return new F({game:this.game,x:e,y:i,image:r})}},{key:"createParallaxed",value:function(t){var e=t.x,i=t.y,r=t.image;return new S({game:this.game,x:e,y:i,image:r})}},{key:"createPlayer",value:function(){return new M({game:this.game})}}]),t}(),T=y(m.a),q=y(b.a),C=function(){function t(){var e=this;Object(s["a"])(this,t),this.canvas=document.querySelector("canvas"),this.c=this.canvas.getContext("2d"),this.objectFactory=new X({game:this}),this.platforms=[],this.player=null,this.scrollOffset=0,f.loaded.then((function(){return e.init()}))}return Object(o["a"])(t,[{key:"init",value:function(){this.canvas.width=1024,this.canvas.height=574,this.start(),this.animate()}},{key:"animate",value:function(){var t=this,e=this.canvas.getContext("2d");e.fillStyle="white",e.fillRect(0,0,this.canvas.width,this.canvas.height),this.platforms.forEach((function(t){return t.draw()})),this.player.draw(),this.updateScrollOffset(),this.scrollOffset>5*T.width+400-2&&console.log("winner winner"),this.player.position.y>this.canvas.height&&this.start(),window.requestAnimationFrame((function(){return t.animate()}))}},{key:"updateScrollOffset",value:function(){this.scrollOffset+=this.player.velocity.x,this.scrollOffset<0&&(this.scrollOffset=0)}},{key:"start",value:function(){this.platforms=[this.objectFactory.createParallaxed({x:-1,y:-1,image:y(w.a)}),this.objectFactory.createParallaxed({x:0,y:0,image:y(j.a)}),this.objectFactory.createPlatform({x:4*T.width+300-2+T.width-q.width,y:270,image:q}),this.objectFactory.createPlatform({x:-1,y:470,image:T}),this.objectFactory.createPlatform({x:T.width-3,y:470,image:T}),this.objectFactory.createPlatform({x:2*T.width+100,y:470,image:T}),this.objectFactory.createPlatform({x:3*T.width+300,y:470,image:T}),this.objectFactory.createPlatform({x:4*T.width+300-2,y:470,image:T}),this.objectFactory.createPlatform({x:5*T.width+800-2,y:470,image:T})],this.scrollOffset=0,this.player=this.objectFactory.createPlayer()}}]),t}(),G={name:"App",components:{},mounted:function(){h.start(),new C},data:function(){return{}},methods:{}},J=(i("df82"),i("6b0d")),V=i.n(J);const z=V()(G,[["render",a]]);var B=z;Object(r["a"])(B).mount("#app")},"5cc9":function(t,e,i){t.exports=i.p+"img/spriteStandLeft.546bd173.png"},"6ee4":function(t,e,i){t.exports=i.p+"img/spriteRunRight.f4b20e00.png"},"71ee":function(t,e,i){t.exports=i.p+"img/hills.9966e5b0.png"},7200:function(t,e,i){},bf63:function(t,e,i){t.exports=i.p+"img/platformSmallTall.e14959f6.png"},d27c:function(t,e,i){t.exports=i.p+"img/spriteRunLeft.2ad0a568.png"},df82:function(t,e,i){"use strict";i("7200")}});
//# sourceMappingURL=app.b80be8b8.js.map